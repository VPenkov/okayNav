/*!
 * jquery.okayNav.js 2.0.4 (https://github.com/VPenkov/okayNav)
 * Author: Vergil Penkov (http://vergilpenkov.com/)
 * MIT license: https://opensource.org/licenses/MIT
 */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(i,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(i)),n(e),e}:n(jQuery)}(function(n){function i(i,t){e=this,this.options=n.extend({},o,t),e.options=this.options,e.navigation=n(i),e.document=n(document),e.window=n(window),""==this.options.parent?this.options.parent=e.navigation.parent():"",e.nav_open=!1,e.parent_full_width=0,e.radCoef=180/Math.PI,e.sTouch={x:0,y:0},e.cTouch={x:0,y:0},e.sTime=0,e.nav_position=0,e.percent_open=0,e.nav_moving=!1,e.init()}var e,t="okayNav",o={parent:"",toggle_icon_class:"okayNav__menu-toggle",toggle_icon_content:"<span /><span /><span />",align_right:!0,swipe_enabled:!0,threshold:50,resize_delay:10,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},itemHidden:function(){},itemDisplayed:function(){}};i.prototype={init:function(){n("body").addClass("okayNav-loaded"),e.navigation.addClass("okayNav loaded").children("ul").addClass("okayNav__nav--visible"),e.options.align_right?e.navigation.append('<ul class="okayNav__nav--invisible transition-enabled nav-right" />').append('<a href="#" class="'+e.options.toggle_icon_class+' okay-invisible">'+e.options.toggle_icon_content+"</a>"):e.navigation.prepend('<ul class="okayNav__nav--invisible transition-enabled nav-left" />').prepend('<a href="#" class="'+e.options.toggle_icon_class+' okay-invisible">'+e.options.toggle_icon_content+"</a>"),e.nav_visible=e.navigation.children(".okayNav__nav--visible"),e.nav_invisible=e.navigation.children(".okayNav__nav--invisible"),e.toggle_icon=e.navigation.children("."+e.options.toggle_icon_class),e.toggle_icon_width=e.toggle_icon.outerWidth(!0),e.default_width=e.getChildrenWidth(e.navigation),e.parent_full_width=n(e.options.parent).outerWidth(!0),e.last_visible_child_width=0,e.initEvents(),e.nav_visible.contents().filter(function(){return this.nodeType=Node.TEXT_NODE&&/\S/.test(this.nodeValue)===!1}).remove(),1==e.options.swipe_enabled&&e.initSwipeEvents()},initEvents:function(){e.document.on("click.okayNav",function(i){var t=n(i.target);e.nav_open===!0&&0==t.closest(".okayNav").length&&e.closeInvisibleNav(),t.hasClass(e.options.toggle_icon_class)&&(i.preventDefault(),e.toggleInvisibleNav())});var i=e._debounce(function(){e.recalcNav()},e.options.recalc_delay);e.window.on("load.okayNav resize.okayNav",i)},initSwipeEvents:function(){e.document.on("touchstart.okayNav",function(i){if(e.nav_invisible.removeClass("transition-enabled"),1==i.originalEvent.touches.length){var t=i.originalEvent.touches[0];(t.pageX<25&&0==e.options.align_right||t.pageX>n(e.options.parent).outerWidth(!0)-25&&1==e.options.align_right||e.nav_open===!0)&&(e.sTouch.x=e.cTouch.x=t.pageX,e.sTouch.y=e.cTouch.y=t.pageY,e.sTime=Date.now())}}).on("touchmove.okayNav",function(n){var i=n.originalEvent.touches[0];e._triggerMove(i.pageX,i.pageY),e.nav_moving=!0}).on("touchend.okayNav",function(n){e.sTouch={x:0,y:0},e.cTouch={x:0,y:0},e.sTime=0,e.percent_open>100-e.options.threshold?(e.nav_position=0,e.closeInvisibleNav()):1==e.nav_moving&&(e.nav_position=e.nav_invisible.width(),e.openInvisibleNav()),e.nav_moving=!1,e.nav_invisible.addClass("transition-enabled")})},_getDirection:function(n){return e.options.align_right?n>0?-1:1:n<0?-1:1},_triggerMove:function(n,i){e.cTouch.x=n,e.cTouch.y=i;var t=Date.now(),o=e.cTouch.x-e.sTouch.x,a=e.cTouch.y-e.sTouch.y,s=a*a,l=Math.sqrt(o*o+s),v=Math.sqrt(s),c=Math.asin(Math.sin(v/l))*e.radCoef;l/(t-e.sTime);if(e.sTouch.x=n,e.sTouch.y=i,c<20){var r=e._getDirection(o),d=e.nav_position+r*l,_=e.nav_invisible.width(),p=0;d<0?p=-d:d>_&&(p=_-d);var u=_-(e.nav_position+r*l+p),g=u/_*100;e.nav_position+=r*l+p,e.percent_open=g,e.nav_invisible.css("transform","translateX("+(e.options.align_right?1:-1)*g+"%)")}},getParent:function(){return e.options.parent},getVisibleNav:function(){return e.nav_visible},getInvisibleNav:function(){return e.nav_invisible},getNavToggleIcon:function(){return e.toggle_icon},_debounce:function(n,i,e){var t;return function(){var o=this,a=arguments,s=function(){t=null,e||n.apply(o,a)},l=e&&!t;clearTimeout(t),t=setTimeout(s,i),l&&n.apply(o,a)}},openInvisibleNav:function(){e.options.enable_swipe?"":e.options.beforeOpen.call(),e.toggle_icon.addClass("icon--active"),e.nav_invisible.addClass("nav-open"),e.nav_open=!0,e.nav_invisible.css({"-webkit-transform":"translateX(0%)",transform:"translateX(0%)"}),e.options.afterOpen.call()},closeInvisibleNav:function(){e.options.enable_swipe?"":e.options.beforeClose.call(),e.toggle_icon.removeClass("icon--active"),e.nav_invisible.removeClass("nav-open"),e.options.align_right?e.nav_invisible.css({"-webkit-transform":"translateX(100%)",transform:"translateX(100%)"}):e.nav_invisible.css({"-webkit-transform":"translateX(-100%)",transform:"translateX(-100%)"}),e.nav_open=!1,e.options.afterClose.call()},toggleInvisibleNav:function(){e.nav_open?e.closeInvisibleNav():e.openInvisibleNav()},getChildrenWidth:function(i){for(var e=0,t=n(i).children(),o=0;o<t.length;o++)e+=n(t[o]).outerWidth(!0);return e},getVisibleItemCount:function(){return n("> li",e.nav_visible).length},getHiddenItemCount:function(){return n("> li",e.nav_invisible).length},recalcNav:function(){var i=n(e.options.parent).outerWidth(!0),t=e.getChildrenWidth(e.options.parent),o=e.navigation.outerWidth(!0),a=e.getVisibleItemCount(),s=e.nav_visible.outerWidth(!0)+e.toggle_icon_width,l=t+e.last_visible_child_width+e.toggle_icon_width,v=t-o+e.default_width;return i>v?(e._expandAllItems(),void e.toggle_icon.addClass("okay-invisible")):(a>0&&o<=s&&i<=l&&e._collapseNavItem(),i>l+e.toggle_icon_width+15&&e._expandNavItem(),void(0==e.getHiddenItemCount()?e.toggle_icon.addClass("okay-invisible"):e.toggle_icon.removeClass("okay-invisible")))},_collapseNavItem:function(){var i=n("> li:last-child",e.nav_visible);e.last_visible_child_width=i.outerWidth(!0),e.document.trigger("okayNav:collapseItem",i),i.detach().prependTo(e.nav_invisible),e.options.itemHidden.call(),e.recalcNav()},_expandNavItem:function(){var i=n("> li:first-child",e.nav_invisible);e.document.trigger("okayNav:expandItem",i),i.detach().appendTo(e.nav_visible),e.options.itemDisplayed.call()},_expandAllItems:function(){n("> li",e.nav_invisible).detach().appendTo(e.nav_visible),e.options.itemDisplayed.call()},_collapseAllItems:function(){n("> li",e.nav_visible).detach().appendTo(e.nav_invisible),e.options.itemHidden.call()},destroy:function(){n("> li",e.nav_invisible).appendTo(e.nav_visible),e.nav_invisible.remove(),e.nav_visible.removeClass("okayNav__nav--visible"),e.toggle_icon.remove(),e.document.unbind(".okayNav"),e.window.unbind(".okayNav")}},n.fn[t]=function(e){var o=arguments;if(void 0===e||"object"==typeof e)return this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new i(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var a;return this.each(function(){var s=n.data(this,"plugin_"+t);s instanceof i&&"function"==typeof s[e]&&(a=s[e].apply(s,Array.prototype.slice.call(o,1))),"destroy"===e&&n.data(this,"plugin_"+t,null)}),void 0!==a?a:this}}});